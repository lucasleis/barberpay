{% extends "layout.html" %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='memberships.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
{% endblock %}

{% block content %}
  <h2>Tipos de Membresía</h2>

  <form method="POST" action="{{ url_for('add_membership') }}">
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input type="text" name="nombre" id="nombre" placeholder="Nombre de la membresía" required>
    </div>

    <div class="form-group">
      <label for="precio">Precio:</label>
      <input type="number" name="precio" id="precio" step="1" placeholder="Precio ($)" required>
    </div>

    <div class="form-group">
      <label for="cantidad">Cantidad de usos:</label>
      <input type="number" name="cantidad" id="cantidad" min="1" placeholder="Cantidad de usos" required>
    </div>

    <button type="submit">Agregar Membresía</button>
  </form>

  <ul class="barber-list">
    {% for tipo in tipos_membresia %}
      <li class="barber-item">
        <span>
          {{ tipo.nombre }} - ${{ "%.2f"|format(tipo.precio)|int }} 
          ({{ tipo.usos }} usos)
        </span>
        <a href="{{ url_for('delete_membership_type', id=tipo.id) }}" class="delete-button" title="Eliminar">
          <i class="fas fa-trash-alt"></i>
        </a>
      </li>
    {% endfor %}
  </ul>
{% endblock %}